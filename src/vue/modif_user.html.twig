{% extends "base.html.twig" %}

{% block title %} {{ parent() }} Accueil {% endblock %}

{% block contenu %}
    <h1>Modifier un utilisateur</h1>

    {% if form.utilisateur is defined %}
        {% if form.utilisateur != null %}
            <div class="col justify-content-center align-items-center">
                <form action="index.php?page=modif_user" method="post" enctype="application/x-www-form-urlencoded">
                    <div class="form-row">
                        <div class="form-group col-md-6">
                            <label for="nom">Nom</label>
                            <input name="nom" id="nom" type="text" class="form-control" value="{{form.utilisateur.nom}}" required>
                        </div>
                        <div class="form-group col-md-6">
                            <label for="prenom">Prénom</label>
                            <input name="prenom" id="prenom" type="text" class="form-control" value="{{form.utilisateur.prenom}}" required>
                        </div>

                        <div class="form-group col-md-4">
                            <label for="email">Adresse mail</label>
                            <input name="email" id="email" type="email" class="form-control" value="{{form.utilisateur.email}}" required>
                        </div>
                        <div class="form-group col-md-4">
                            <label for="password">Mot de passe</label>
                            <input name="password" id="password" type="password" class="form-control" required>
                        </div>
                        <div class="form-group col-md-4">
                            <label for="password2">Confirmation mot de passe</label>
                            <input name="password2" id="password2" type="password" class="form-control" required>
                        </div>
                        <div class="form-group col-md-6">
                            <label for="role">Rôle</label>
                            <input name="role" id="role" type="text" class="form-control" value="{{form.utilisateur.idRole}}" required>
                        </div>
                    </div>

                    <input type="hidden" name="id" value="{{form.utilisateur.id}}"/>

                    <button name="btModifierUtilisateur" type="submit" class="btn btn-primary">Valider</button>
                </form>
            {% else %}
                <h2 class="alert alert-danger" role="alert">{{form.message}}</h2>
                <a href="index.php?page=utilisateurs">Retourner sur la liste des utilisateurs</a>
            {% endif %}

            {% else %}
                <h2 class="alert alert-danger" role="alert">{{form.message}}</h2>
                <a href="index.php?page=utilisateurs">Retourner sur la liste des utilisateurs</a>
            {% endif %}
{% endblock %}